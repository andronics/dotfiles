#!/usr/bin/env sh

name=$(basename $0)

# ------------------------------

source "$(which _log)"

# ------------------------------

_bspc_unhide() {

  _nodes=$(bspc query -N -n .hidden -d focused)

  if pgrep "polybar"; then
    _log_info "polybar found... unhiding"
    polybar-msg cmd show
  fi

  for _node in ${_nodes}; do
    _log_info "node ${_node}... unhiding"
    bspc node ${_node} -g hidden=off
  done

}

# ------------------------------

_bspc_unhide "$@"