#!/usr/bin/env sh

name=$(basename $0)

# ------------------------------

source "$(which _log)"

# ------------------------------

_bspc_hide() {

  _nodes=$(bspc query -N -n .leaf -d focused)

  if pgrep "polybar"; then
    _log_info "polybar found... hiding"
    polybar-msg cmd hide
  fi

  for _node in ${_nodes}; do
    _log_info "node ${_node}... hiding"
    bspc node ${_node} -g hidden=on
  done

}

# ------------------------------

_bspc_hide "$@"